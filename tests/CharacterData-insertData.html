<!DOCTYPE html>
<title>CharacterData.insertData</title>
<link rel="author" title="annevk" href="mailto:annevk@opera.com">
<link rel="help" href="../web-dom-core#dom-CharacterData-insertData">
<body>
<script src="support/test.js"></script>
<script>
function offsetTooLong(node, offset) {
  try {
    node.insertData(offset, "x")
    Test.fail("No exception.")
  } catch(e) {
    Test.is(e.code, DOMException.INDEX_SIZE_ERR);
  }
}
try {
  var t = document.createTextNode("test")
  offsetTooLong(t, 5)

  var c = document.createComment("test")
  offsetTooLong(c, 5)

  t.insertData(2, "X")
  Test.is(t.data, "teXst")

  c.insertData(4, "ing")
  Test.is(c.data, "testing")
} catch (e) {
  Test.fail("Exception was thrown.")
}
Test.finish()
</script>
